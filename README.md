# Open Source Software Assignment 

+ ## A Table of Contents
  + ### Linux Command
  + ### Vim Macro Command

---

# Linux Command

  ## top
  
+ __시스템의 상태를 전반적으로 가장 빠르게 파악 가능 (CPU, Memory, Process)__
  
+ __옵션 없이 입력하면 interval 간격으로 화면을 갱신하면 정보를 보여줌__
  > __기본 간격은 3초로 설정되어 있음__
  
+ __top 실행 전 옵션__
    
  > __순간의 정보를 확인 하려면 `-b` 옵션 추가 (batch 모드)__
    
  > __`-n` : top 실행 주기 설정 (반복 횟수)__
    
+ __top 실행 후 명령어__

|명령어|설명|
|:---:|:---:|
|__shift + p__|__CPU 사용률이 높은 프로세스 순서대로 표시__|
|__shift + m__|__메모리 사용률이 높은 프로세스 순서대로 표시__|
|__shift + t__|__프로세스가 돌아가고 있는 시간 순서대로 표시__|
|__a__|__메모리 사용량에 따라 정렬__|
|__b__|__Batch 모드 작동__|
|__f__|__sort field 선택 화면 >> q 누르면 RES 순으로 정렬__|
|__H__|__상단의 Tasks 기준을 Thread로 변경__|
|__k__|__프로세스 kill -k 입력 후 종료할 PID입력 signal을 입력하라고 하면 kill signal인 9를 입력__|
|__m__|__메모리 사용률 시각화 표시__|
|__u__|__모니터링 할 user를 선택하여, 해당 권한 프로세스 감시__|
|__1__|__CPU Core 별로 사용량을 보여줌__|

+ __`top`__ __or__ __`top -b -n 1`__

<img src = "https://user-images.githubusercontent.com/95179732/169704385-e3e442bc-5265-4814-8e41-1477df75a302.PNG" width = "100%" height = "100%"/>

+ __20:49:01 : 현재 시간__
  > ___up 0 min___ __: 0분 전에 구동 (시간이 지나면 몇 분전에 구동했는지 확인 가능)__

+ __load average : 현재 시스템이 얼마나 일을 하는지를 나타냄.__
  > __3개의 숫자는 1분, 5분, 15분 간의 평균 실행 / 대기 중인 프로세스의 수__

+ __Tasks : 프로세스 개수__

+ __%CPU(s) : CPU의 사용률__
  > ___us___ __: 사용자 레벨의 CPU 사용 비중__
  
  > ___sy___ __: 시스템 레벨의 CPU 사용 비중__
  
  > ___ni___ __: 우선순위가 낮은 프로세스의 CPU 사용 비중__
  
  > ___id___ __: 유휴 상태의 CPU 사용 비중__
  
  > ___wa___ __: I / O를 대기중인 CPU 사용률__
  
  > ___hi___ __: interrupt handler에서 사용 중인 CPU 사용률, 빠르게 수행을 마쳐야 하는 작업__
  
  > ___si___ __: hi에서 오래 걸리는 작업 때문에 미뤄놓은 작업__
  
  > ___st___ __: 하이퍼바이저가 다른 가상 프로세서를 서비스하는 동안 가상 CPU가 실제 CPU를 기다리는 시간__

+ __MiB Mem, Swap : 각 메모리의 사용량__
  > ___전체 물리적인 Mem , 사용하고 있는 Mem, 여유 Mem, 버퍼된 Mem / 캐싱 Mem___
  >
  > ___전체 Swap Mem, 사용하고 있는 Swap Mem, 남아있는 Swap Mem, 사용 가능한 Mem___

+ __PR : 실행 우선순위__

+ __VIRT, RES, SHR : 메모리 사용량 → 메모리 누수 확인 가능__

+ __S : 프로세스의 상태__
  > __작업 중,__ ___I / O___ __대기, 유휴 상태 등___

---

### VIRT, RES, SHR

+ __현재 프로세스가 사용하고 있는 메모리__

+ __VIRT__

  > __프로세스가 사용하고 있는__ ___virtual memory___ __의 전체 용량__

  > __프로세스에 할당된 가상 메모리 전체__

  > __SWAP + RES__

+ __RES__

  > __현재 프로세스가 사용하고 있는 물리 메모리의 양__

  > __실제로 메모리에 올려서 사용하고 있는 물리 메모리__

+ __SHR__

  > __다른 프로세스와 공유하고 있는__ ___shared memory___ __의 양__

---

### 프로세스 상태

+ __SHR 옆에 있는 S 항목으로 볼 수 있음__

  + __D :__ ___Uninterruptiable sleep___
    > __디스크 혹은 네트워크 I / O 를 대기__

  + __R : 실행 중 (CPU 자원을 소모)__

  + __S :__ ___Sleeping___ __상태__
    > __요청한 리소스를 즉시 사용 가능__

  + __T :__ ___Traced or Stopped___
    > __보통의 시스템에서 자주 볼 수 없는 상태__

  + __Z :__ ___zombie___
    > __부모 프로세스가 죽은 자식 프로세스__

 ## ps (Process Status)
  
  + __현재 실행중인 프로세스 목록을 보여줌__


  
#### ps 명령어
  
  + ### __사용법__
  
    ### __`ps [option]`__
    
      > __주로 | (파이프라인),__ ___grep___ __명령어와 함께 사용하여 프로세스를 확인하는데 많이 사용__

  + ### __옵션__

|명령어|설명|
|:---:|:---:|
|__-A__|__모든 프로세스를 출력__|
|__a (BSD)__|__터미널과 연관된 프로세스를 출력하는 옵션__|
|__-a__|__세션 리더(일반저긍로 로그인 셀)을 제외하고 터미널에 종속되지 않은 모든 프로세스를 출력__|
|__-e__|__커널 프로세스를 제외한 모든 프로세스를 출력__|
|__-f__|__풀 포맷으로 보여줌, 유닉스 스타일로 출력해주는 옵션으로 UID, PID, PPID 등이 함께 표시__|
|__-l (Sys V), l (BSD)__|__긴 포맷으로 보여줌, 프로세스의 정보를 길게 보여주는 옵션으로 우선순위와 관련된 PRI와 NI값 확인 가능__|
|__-o 값__|__출력 포맷을 지정하는 옵션으로 값으로는 pid, tty, time, cmd 등으로 지정 가능__|
|__-M__|__64비트 프로세스들을 보여줌__|
|__-m__|__프로세스들 뿐만 아니라 커널 스레드들도 보여줌__|
|__-p__|__특정 PID를 지정할 때 사용__|
|__-r__|__현재 실행 중인 프로세서를 보여줌__|
|__u (BSD)__|__프로세스의 소유자를 기준으로 출력__|
|__-u__|__특정 사용자의 프로세스 정보를 확인할 때 사용__|
|__x (BSD)__|__터미널에 종속되지 않는 프로세스를 출력. 보통 a옵션과 결합해 사용__|
|__-x__|__사용자가 로그아웃 한 이후에도 실행중인 프로세스 출력__|

__특정 프로세스를 확인하는데 주로 grep과 함께 사용__

__그 중에서 `ps -ef`를 가장 많이 사용__

---

### ps명령어와 ps가 보여주는 항목, 필드 의미

   ### __`$ ps`__
    
   > ___ps___ __명령어만 단독으로 사용했을 때의 결과__
    
   > __사용자와 관련된 프로세스를 출력__

![ps](https://user-images.githubusercontent.com/95179732/170050031-118c79c4-62f5-4b10-8e23-d8b7ffca0559.PNG)

  > __기본적으로__ ___PID, TTY, TIME, CMD___ __의 정보가 출력__

  > ___PID___ __: 프로세스 번호__

  > ___TTY___ __: 프로세스가 연결된 터미널__

  > ___TIME___ __: 프로세스에 사용된 CPU 시간__

  > ___CMD___ __: 프로세스 실행 명령어__

+ ### ps 항목

|__항목__|__의미__|__항목__|__의미__|
|:---:|:---:|:---:|:---:|
|__USER__|__프로세스 소유자의 이름 (BSD 계열)__|__S, STAT__|__현재 프로세스의 상태 코드 (S: Sys V, STAT: BSD)__|
|__UID__|__프로세스 소유자의 이름 (SYSTEM V 계열)__|__TIME__|__총 CPU 사용 시간__|
|__PID__|__프로세스의 식별번호__|__COMMAND__|__프로세스의 실행 명령행__|
|__PPID__|__부모 프로세스 ID__|__STIME__|__프로세스가 시작된 시간 혹은 날짜__|
|__%CPU__|__CPU 사용 비율의 추정치 (BSD)__|__C, CP__|__짧은 기간 동안의 CPU 사용률 (C: Sys V, CP: BSD)__|
|__%MEM__|__메모리의 사용 비율의 추정치 (BSD)__|__F__|__프로세스의 플래그__|
|__VSZ__|__K 단위 or 페이지 단위의 가상메모리 사용량__|__PRI__|__실제 실행 우선순위__|
|__RSS__|__실제 메모리 사용량 (Resident Set Size)__|__NI__|__nice 우선순위 번호__|
|__TTY__|__프로세스와 연결된 터미널__|||

---

### ps 명령어 사용 예시

### __`$ ps ax`__

> __시스템에 동작중인 모든 프로세스를 보고 싶을 때 위와 같은 명령어를 사용해 BSD 포맷으로 출력__ __(UNIX에서는 주로__ ___`ps -e`___ __와 비슷)__

![ps ax](https://user-images.githubusercontent.com/95179732/170055637-bd613a42-1582-4900-8734-b3afaba81c7e.PNG)

### __`$ ps aux`__

> __시스템에 동작중인 모든 프로세스를 소유자 정보와 함께 다양한 정보를 출력 (BSD 포맷으로 출력)__

![ps aux](https://user-images.githubusercontent.com/95179732/170056268-bebb2eb6-e0ea-4636-a062-c679145436f5.PNG)

### __`$ ps -ef | more`__

> ___`ps -ef`___ __는 System V 계열 옵션으로__ ___`ps aux`___ __처럼 시스템에 동작중인 모든 프로세스를 자세히 출력__

> ___`more`___ __명령어는 추가로 한 페이지씩 화면에 출력되도록 사용__

![ps -ef](https://user-images.githubusercontent.com/95179732/170056360-3a96987b-c80b-496e-9696-6ea8cdd0879b.PNG)

### __`$ ps -el | head`__

> __긴 포맷으로 출력하고 싶을 경우__ ___`-l`___ __옵션을 사용__

> ___`ps -ef`___ __에서 보이지 않았던 F, S, PRI, NI, ADDR~ 등등 더 많은 정보들이 출력__

![ps -el](https://user-images.githubusercontent.com/95179732/170056830-f4a7f70c-d7e2-43a9-bd76-ada337f48445.PNG)

## jobs

__작업이 중지된 상태, 백그라운드로 진행 중인 작업 상태, 변경 되었지만 보고되지 않은 상태 등을 표시함__

+ ### 사용법

    #### __`jobs [옵션][작업명]`__

    #### __`jobs -x command [args]`__

+ ### 옵션

|__명령어__|__설명__|
|:---:|:---:|
|__-l__|__프로세스 그룹 ID를 state 필드 앞에 출력__|
|__-n__|__프로세스 그룹 중에 대표 프로세스 ID를 출력__|
|__-p__|__각 프로세스 ID에 대해 한 행씩 출력__|
|__command__|__지정한 명령어를 실행__|

+ ### 알 수 있는 세션의 상태 값

|__상태__|__설명__|
|:---:|:---:|
|__Running__|__작업이 일시 중단되지 않았고 종료하지 않고 계속 진행 중__|
|__Done__|__작업이 완료되어 0을 반환하고 종료됨__|
|__Done(code)__|__작업이 정상적으로 완료되었으며, 0이 아닌 코드가 반환됨__|
|__Stopped__|__작업이 일시 중단__|
|__Stopped(SIGTSTP)__|___SIGTSTP___ __신호가 작업을 일시 중단__|
|__Stopped(SIGSTOP)__|___SIGSTOP___ __신호가 작업을 일시 중단__|
|__Stopped(SIGTTIN)__|___SIGTTIN___ __신호가 작업을 일시 중단__|
|__Stopped(SIGTTOU)__|___SIGTTOU___ __신호가 작업을 일시 중단__|

## kill

__프로세스에 특정한__ ___signal___ __을 보내는 명령어__

> __일반적으로 종료되지 않는 프로세스를 종료 시킬 때 많이 사용함__

+ ### 사용법

__`kill [옵션 or 시그널] PID`__

__Ex) `$ kill -9 11`__

+ ### 종류

|__옵션 or 시그널__|__내용__|
|:---:|:---:|
|__1 SIGHUP(HUP)__|___Hang Up___ __의 약자로 프로세스를 재시작시키는 시그널__|
|__2 SIGINT(INT)__|___Interrupt___ __실행을 중지__|
|__3 SIGQUIT(QUIT)__|__키보드 종료 [Ctrl] + [\]__|
|__9 SIGKILL(KILL)__|__무조건 종료, 즉 강제 종료시키는 시그널__|
|__15 SIGTERM(TERM)__|___Terminate___ __의 약자로 가능한 정상 종료시키는 시그널__|
|__18 CONT__|___Continue.___ __Stop등에 의해 정지된 프로세스를 다시 실행__|
|__19 STOP__|__무조건적, 즉각적 정지__|
|__20 TSTP__|__실행 정지 후 다시 실행을 계속하기 위해 대기시키는 시그널__|

# Vim Macro Command

## Macro

__특정한 움직임 또는 입력을 키에 저장함으로써 단순하면서 반복되는 동작을 쉽고 빠르게 해주는 것을 뜻함__

+ ### 사용법

__매크로가 저장될 register 주소로 알파벳 (a ~ z) 사용 가능__

__1. q + 알파벳__
  
  > __입력한 알파벳 키에__ ___Recording___ __시작__

__2. 반복을 위한 내가 원하는 동작 입력__
  
  > __Ex)__ ___:%s/$/replace/g___

__3. q__
  
  > ___Recording___ __종료__

__4. @알파벳__
  
  > __1회 매크로 실행__

  + ### 번외

  __1. @@__
    
   > __방금 실행한 매크로 실행__
  
  __2. 숫자 + @ + 알파벳__
    
   > __설정한 알파벳의 매크로를 숫자만큼 실행__
    
   > Ex) ___10@a___

+ ### 응용

__매크로를 이용한 숫자 증가__

  __1. 숫자 1 입력__

  __2. 매크로 녹화 시작__

  __3. 숫자 1을 복사해서 다음 줄에 붙여넣기__

  __4. 두 번째 줄의 숫자 1에 커서 올려놓고 `Ctrl + a`__

  __5. 매크로 녹화 종료__

+ ### 응용의 결과

  __1__

  __2__

  __3__

  __4__

  __5__

  __6__

  __.__

  __.__

  __.__

+ ### 숫자 매크로의 핵심

|__명령어__|__내용__|
|:---:|:---:|
|__Ctrl + a__|__숫자 증가__|
|__Ctrl + x__|__숫자 감소__|
